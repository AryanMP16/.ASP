
<h1>.ASP: A modular assembler and accompanying emulator</h1>
.ASP is set up to support any custom instruction set architecture (ISA) that meets the following requirements:
 * There exist 4 types of tokens: instructions, registers, immediates, integer literals
 * Registers must be:
   - rax
   - rsp
   - rip
   - r1 -- r12
 * Immediates must begin with prefix '$'
 * All immediates and integer literals must be in hex, with prefix '0x'
 * There must be at most 16 instructions

This means that:
 * Instructions may have as long a name (string representation) as desired (i.e. it's ok to have "ADD" and "ADDI", despite the former being 3 characters and the latter being 4)
 * Instructions may have as many operands as desired and it will work with the assembler. The emulator is only made to handle instructions with at most 2 operands, though.

I have included an example ISA that I personally use. The following is an example of its use. The code below computes the 11th Fibonacci number, 89.
Assembly:
```>start
LOI $0x1, %r1
LOI $0xA, %r2
LOI $0x0, %r3
SW %r3, 0x1F00
SW %r1, 0x1F01
CMP %r2, %r3
JZ 0x107E
LW 0x1F01, %r1
LW 0x1F00, %r4
ADD %r1, %r4
SW %r4, 0x1F01
SW %r1, 0x1F00
ADDI $0x1, %r3
JMP 0x102d
LW 0x1F01, %rax
TER```

Binary (this is what the assembler generates):
```0x03 0x01 0x01 0x00 0x00 0x02 0x03 0x00 0x00
0x03 0x01 0x0a 0x00 0x00 0x02 0x04 0x00 0x00
0x03 0x01 0x00 0x00 0x00 0x02 0x05 0x00 0x00
0x02 0x02 0x05 0x00 0x00 0x03 0x00 0x1f 0x00
0x02 0x02 0x03 0x00 0x00 0x03 0x01 0x1f 0x00
0x0b 0x02 0x04 0x00 0x00 0x02 0x05 0x00 0x00
0x0a 0x03 0x7e 0x10 0x00 0x00 0x00 0x00 0x00
0x01 0x03 0x01 0x1f 0x00 0x02 0x03 0x00 0x00
0x01 0x03 0x00 0x1f 0x00 0x02 0x06 0x00 0x00
0x05 0x02 0x03 0x00 0x00 0x02 0x06 0x00 0x00
0x02 0x02 0x06 0x00 0x00 0x03 0x01 0x1f 0x00
0x02 0x02 0x03 0x00 0x00 0x03 0x00 0x1f 0x00
0x06 0x01 0x01 0x00 0x00 0x02 0x05 0x00 0x00
0x09 0x03 0x2d 0x10 0x00 0x00 0x00 0x00 0x00
0x01 0x03 0x01 0x1f 0x00 0x02 0x00 0x00 0x00
0x0f```

Result (this is what the emulator generates):
```Program run successfully. Value in %rax is 0x59 (hexadecimal)/89 (decimal)```